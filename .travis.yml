language: java
before_install:
- sudo rm /usr/local/bin/docker-compose
- curl -L https://github.com/docker/compose/releases/download/${DOCKER_COMPOSE_VERSION}/docker-compose-`uname
  -s`-`uname -m` > docker-compose
- chmod +x docker-compose
- sudo mv docker-compose /usr/local/bin
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
install:
- mvn install -Dmaven.javadoc.skip=true -B -V
- ls -l
- docker build --build-arg JAR_FILE=/target/backend.jar -t dto80/se234-lab11-backend  .
- docker push tookaa2/se234-lab11-backend
- docker pull tookaa2/se234-lab11-client
script:
- docker-compose -H "$DOCKER_HOST" up -d
cache:
  directories:
  - "$HOME/.m2"
env:
  global:
  - DOCKER_COMPOSE_VERSION=1.20.0
  - secure: UWG/InFgZzGN8h/bpZalgEr96//w4S95w4KpEPNrOUU4RaacQmnw8um0L8obJpY8+nZofpEv3btg8rB8FbCO3Nkv9jp0YF01GeSB6v27sGSeBLlKR0yqILnRr+gAPtr7ExsRcBjPF3WFrxs+v2nClBO3lQD71kCFBuTIP2B6ck5l2Jf7fTp6LkQdDBgKfEDOCLts7upExsnDJ9ffWFC6w7K58/QnE9/ksM0yF6F77AJMUSuzcwpZtICPGAPvmXPqjrzQTDeRmZ9ESad9clO0UZVPQyISn6jRvuRxs+K7z9yw3YJ1lj9cbDfZYaHUYNBNSyu2V9ZN5kZQ/5qOwh2K885vWi4HEXlFbGMLs+/4EgdNj5s3TkLge7d/k3bi1aRs72vUAAmTZ9UXHyjEqUNd+teiYVSaAoHO07//d/KnEX0YfXzDfTL1gTf5QiRs0DAvYMVeBpH6/mVEGIk9Rl+cvku5YfYPAJ2eMMlNSgXE1uhC3z6l+ATrjWZ0ltCFGKPC+f9GzyU80ytGHLBr9bEkdptTuzRBJoQQUD/gKNM85to9IkVv8AF0VnCCgX/Tu3srYEdDUFbkddoXkL1ryN3Vw0QivWBi++t5Jj5AmzG5odr8C9lsgWAEj9hJ/BuGQN/63V6RkGOGsYl4/bK7oXpaAUWiYVUJ3FvHJm/02YX5p/0=
  - secure: tEVPVI2rwg8HGrmliTvMd+yVfmGS9qImdoAq2ggfCKCpIyf4TpRM3KY/wSj5+pSFiw9V3fVikPo+EO04Di1UQTMKmb4sOpmTfBpb1WLV7NbiOQTLoDPeB/kpuYj4nBu7fFboWdaaQqBdRGB4uTKwCI80bk3BJ9iJ8BLgKhcw/4HtLtHnjcsKfmR3yn/qUL1E2bEVDIRIF7W6pudK5gt6uvn2Q4QeVsEGPrANIwh8IBSxrEe0DE7Qam0Mf4xdaratfwl3xvfBSc2tmHJ4cLwLsx5JxBenvU37FlhWYHprzPtXJAIWkeazvsZqzF0zY/tY5CK8KvWgRm6IAxbrBc1jXHmlpJWXC9+hBqZimsLgJjep3AL4lkHcW1yDMRc4Pp3FAqII5yFYuXWdnQIEEZ+A50OH4rDOqXKXBRF0JyD7P1bGb8xwHs4wX7qp7Mw+5vrRXsDlhj0+qnawj8pM3II8ntTfZLN64QKNZGUPCt4RUVJ9lgNRNyTHtqFdSrcrKrXQXCCtq6WxQFqnQyNNt4w9dEWCm0khK9ACsCcNOfFWLXDZdiKm9IL/yFf0Q7w9aaGzY1+nYrSMO5jf4abV1Uvypbr8KR4OQ3QbGGlOuVQ8LCvbZTZpI2YJFyZUAjBNHw8dTzT/ZbCscy8k9iMX3u70J1OMmhKUw0EkV9otFvehQdg=
  - secure: jI47Y6UxxtH05QSG3wCxMZs52mud2hvZOekSrJDt7z3MyphLTH7LZLZ9NgjCRPAkR3HONLXxZRhrLFr1T7tRvVpNz3hKUCYHqtw0HwKVvrZWOuU0p4gecfZ1p2CgplnxrZpPEkyaIXbYqjjccamPzr3TWfu6mJ0/jeomfJsXR05M3iWAnj/pxw3gV9yzffDM2rest4T3b3RDml6tYo56S4xD3J9am4oU0juG7ckNB4xnaGSf/fJUZ2ZIRK356KS//pLS/HNIQyHtvE0bAfYgdhJ3BXRylUC+NHGXjNmaU3IxcltXm7Mn7MmAkxkAEO7+SJzPwPeWRogrkgwUaWepiGJbQwhaeZRkSLLpQRLL+TwtpdwpONYDlLsHmzsonFfDvGSuawb6TAythDATchot1cIIN3nYdBiZXyM7qdR8Pg7eEODKC9/U9ynw4lX/MdbrE9gsxVWsOeEmmry6xc2P5AismIfH4sxO34/oOnEpoy9pB7h48Nin1Ju9KEqMcGnJxzv3Wl78IZqv3hmtmeOyOBcVd5wrodY9j55q05mHfSObt8jYS75OWWTI3pgVCPQxjY6OzS+DrB63StIesIzQ5IgF+OLO36LIQJT0+X1MdUxqG1mJOkxk+ky73WlDALcAjGJxm9LdDTNGqgN7RJdd0njBxHJbIabtlgJNoQkbF9g=
